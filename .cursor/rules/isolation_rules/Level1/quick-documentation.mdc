---
description: 一级快速Bug修复任务的快速文档编写方法
globs: "**/level1/**", "**/documentation/**"
alwaysApply: false
---

# 一级任务快速文档编写

> **简述：** 本文档概述了一级（快速Bug修复）任务的快速文档编写方法，确保以最小开销捕获必要信息。

## 🔍 快速文档概述

```mermaid
graph TD
    FixComplete["Bug修复<br>完成"] --> Document["编写<br>方案文档"]
    Document --> UpdateTasks["更新<br>tasks.md"]
    UpdateTasks --> MinimalUpdates["最小化<br>记忆库更新"]
    MinimalUpdates --> CrossReference["创建简单<br>交叉引用"]
    CrossReference --> Complete["文档编写<br>完成"]
```

一级任务需要高效的文档编写，捕获必要信息而不包含不必要的细节。这种方法确保在保持速度和效率的同时保留关键知识。

## 📋 文档编写原则

1. **简洁性**: 保持文档简短但完整
2. **聚焦**: 只记录理解修复所必需的内容
3. **上下文**: 提供足够的上下文来理解问题
4. **方案**: 清楚描述更改了什么以及为什么
5. **可查找性**: 确保修复日后可以轻松找到

## 📋 快速修复文档模板

```markdown
# 快速修复: [问题标题]

## 问题
[问题的简要描述 - 1-2句话]

## 根本原因
[导致问题的原因的简要描述 - 1-2句话]

## 解决方案
[实施的修复的简要描述 - 2-3句话]

## 更改的文件
- [文件路径 1]
- [文件路径 2]

## 验证
[修复如何测试/验证 - 1-2句话]

## 备注
[可能有帮助的任何其他信息 - 可选]
```

## 📋 TASKS.MD 更新

对于一级任务，使用以下格式更新 tasks.md：

```markdown
## 已完成的Bug修复
- [X] [一级] 已修复: [问题标题] (完成时间: YYYY-MM-DD)
  - 问题: [一行描述]
  - 根本原因: [一行描述]
  - 方案: [一行描述]
  - 文件: [文件路径]
```

对于进行中的任务：

```markdown
## 进行中的Bug修复
- [ ] [一级] 修复: [问题标题] (预计: XX分钟)
  - 问题: [一行描述]
  - 位置: [组件/文件]
```

## 📋 记忆库更新

对于一级任务，进行以下最小化记忆库更新：

1. **tasks.md**:
   - 按上述方式更新修复详情
   - 将任务标记为完成

2. **activeContext.md** (仅在相关时):
   ```markdown
   ## 最近修复
   - [YYYY-MM-DD] 修复了[组件/文件]中的[问题]。[修复的一行描述]
   ```

3. **progress.md** (仅在重要时):
   ```markdown
   ## Bug修复
   - [YYYY-MM-DD] 修复了[组件/文件]中的[问题]。
   ```

其他记忆库文件通常不需要为一级任务更新，除非修复揭示了重要的系统信息。

## 📋 常见Bug分类

分类Bug以提高文档一致性：

1. **逻辑错误**:
   - 示例: "修复了用户验证中不正确的条件逻辑"

2. **UI/显示问题**:
   - 示例: "修复了移动视图中按钮对齐问题"

3. **性能问题**:
   - 示例: "修复了用户资料数据加载缓慢的问题"

4. **数据处理错误**:
   - 示例: "修复了日期格式解析不正确的问题"

5. **配置问题**:
   - 示例: "修复了环境变量设置不正确的问题"

## 📋 快速文档编写流程

按以下步骤高效编写文档：

1. **修复后立即**:
   - 趁修复记忆清晰时编写文档
   - 聚焦于做了什么、为什么、如何做
   - 具体说明所做的更改

2. **更新任务跟踪**:
   - 用修复详情更新 tasks.md
   - 使用一致的格式便于参考

3. **最小化交叉引用**:
   - 只创建必要的交叉引用
   - 确保将来可以找到修复

4. **检查完整性**:
   - 验证所有必要信息已被捕获
   - 确保其他开发人员能理解这个修复

## 📋 示例: 好的文档 vs 不充分的文档

### ❌ 不充分的文档

```markdown
修复了登录bug。
```

### ✅ 好的文档

```markdown
# 快速修复: 特殊字符用户登录失败

## 问题
邮箱地址中包含特殊字符（如 +, %）的用户无法登录。

## 根本原因
邮箱验证正则表达式错误地转义了特殊字符。

## 解决方案
更新了 AuthValidator.js 中的邮箱验证正则表达式，按照 RFC 5322 标准正确处理特殊字符。

## 更改的文件
- src/utils/AuthValidator.js

## 验证
测试了各种邮箱地址中的特殊字符登录（test+user@example.com, user%123@example.com）。
```

## 📋 文档验证检查清单

```
✓ 文档验证
- 问题描述清楚？ [是/否]
- 根本原因已识别？ [是/否]
- 方案已解释？ [是/否]
- 更改的文件已列出？ [是/否]
- 验证方法已描述？ [是/否]
- tasks.md 已更新？ [是/否]
- 记忆库已最小化更新？ [是/否]

→ 如果全是"是": 文档完成
→ 如果有"否": 完成缺失的信息
```

## 📋 最小模式文档

对于最小模式，使用这个超紧凑格式：

```
✓ 修复: [问题标题]
✓ 原因: [一行根本原因]
✓ 方案: [一行修复描述]
✓ 文件: [文件路径]
✓ 已验证: [如何验证]
```

## 🔄 文档集成

快速文档与其他系统集成：

```mermaid
graph TD
    QuickDoc["快速修复<br>文档"] --> TasksMD["tasks.md<br>更新"]
    QuickDoc --> FixDetails["修复详情<br>文档"]

    TasksMD --> Tracking["任务<br>跟踪"]
    FixDetails --> Knowledge["知识<br>保存"]

    Tracking & Knowledge --> Future["未来<br>参考"]
```

## 🚨 文档效率原则

请记住：

```
┌─────────────────────────────────────────────────────┐
│ 只记录理解修复所需要的内容。                         │
│ 聚焦于对将来遇到相同问题的人有帮助的必要信息。       │
└─────────────────────────────────────────────────────┘
```

这确保了一级任务在不产生不必要开销的情况下高效编写文档，同时保留关键知识。
