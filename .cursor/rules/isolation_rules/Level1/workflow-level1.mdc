---
description: 一级快速Bug修复任务的精简工作流程
globs: "**/level1/**", "**/workflow/**"
alwaysApply: false
---
# 一级任务精简工作流程

> **简述：** 本文档概述了一级（快速Bug修复）任务的精简工作流程，聚焦于以最小开销高效解决问题，同时保持足够的文档记录。

## 🔍 一级工作流程概述

```mermaid
graph LR
    Init["1. 初始化"] --> Impl["2. 实现"]
    Impl --> Doc["3. 文档"]

    %% 每个阶段的文档连接
    Init -.-> InitDocs["快速设置<br>理解问题"]
    Impl -.-> ImplDocs["聚焦修复<br>验证解决"]
    Doc -.-> DocDocs["记录方案<br>更新跟踪"]
```

## 📋 工作流程阶段

### 阶段1: 初始化

```mermaid
graph TD
    Start["开始一级任务"] --> Identify["识别<br>问题"]
    Identify --> Understand["理解<br>问题"]
    Understand --> Setup["快速<br>环境设置"]
    Setup --> TaskEntry["创建快速<br>任务条目"]
    TaskEntry --> InitComplete["初始化<br>完成"]
```

**步骤：**
1. 识别要修复的具体问题
2. 理解问题及其影响
3. 设置快速修复环境
4. 在 tasks.md 中创建最小任务条目

**里程碑检查点：**
```
✓ 初始化检查点
- 问题已清楚识别？ [是/否]
- 问题已理解？ [是/否]
- 环境已设置？ [是/否]
- 任务条目已创建？ [是/否]

→ 如果全是"是": 进入实现阶段
→ 如果有"否": 完成初始化步骤
```

### 阶段2: 实现

```mermaid
graph TD
    Start["开始<br>实现"] --> Locate["定位<br>问题源"]
    Locate --> Develop["开发<br>修复"]
    Develop --> Test["测试<br>方案"]
    Test --> Verify["验证<br>解决"]
    Verify --> ImplComplete["实现<br>完成"]
```

**步骤：**
1. 定位问题源头
2. 开发针对性修复
3. 彻底测试方案
4. 验证问题已解决

**里程碑检查点：**
```
✓ 实现检查点
- 问题源已定位？ [是/否]
- 修复已开发？ [是/否]
- 方案已测试？ [是/否]
- 解决已验证？ [是/否]

→ 如果全是"是": 进入文档阶段
→ 如果有"否": 完成实现步骤
```

### 阶段3: 文档

```mermaid
graph TD
    Start["开始<br>文档"] --> Update["更新<br>tasks.md"]
    Update --> Solution["记录<br>方案"]
    Solution --> References["创建最小<br>交叉引用"]
    References --> NotifyStakeholders["通知<br>相关人员"]
    NotifyStakeholders --> DocComplete["文档<br>完成"]
```

**步骤：**
1. 用修复详情更新 tasks.md
2. 简明记录方案
3. 创建最小交叉引用
4. 根据需要通知相关人员

**里程碑检查点：**
```
✓ 文档检查点
- tasks.md 已更新？ [是/否]
- 方案已记录？ [是/否]
- 交叉引用已创建？ [是/否]
- 相关人员已通知？ [是/否]

→ 如果全是"是": 任务完成
→ 如果有"否": 完成文档步骤
```

## 📋 TASKS.MD 中的任务结构

对于一级任务，使用以下最小结构：

```markdown
## 进行中的Bug修复
- [ ] [一级] 修复: [Bug描述] (预计: XX分钟)

## 已完成的Bug修复
- [X] [一级] 已修复: [Bug描述] (完成时间: YYYY-MM-DD)
  - 问题: [简要问题描述]
  - 方案: [简要方案描述]
  - 更改的文件: [文件路径]
```

## 📋 memory bank更新

对于一级任务，进行最小化memory bank更新：

1. **tasks.md**: 更新修复详情
2. **activeContext.md**: 简要提及修复（如相关）
3. **progress.md**: 添加到已完成修复列表

## 📋 工作流程验证检查清单

```
✓ 最终工作流程验证
- 问题已识别和理解？ [是/否]
- 修复已实现和验证？ [是/否]
- tasks.md 已更新？ [是/否]
- 方案已记录？ [是/否]
- memory bank已最小化更新？ [是/否]

→ 如果全是"是": 一级任务成功完成
→ 如果有"否": 处理未完成项
```

## 📋 任务升级

如果在一级流程中发现任务更复杂：

```
⚠️ 需要任务升级
当前级别: 一级
建议级别: [二/三/四]级
原因: [简要说明]

您希望我将此任务升级到[二/三/四]级吗？
```

升级指标：
1. 修复需要更改多个组件
2. 方案需要设计决策
3. 测试揭示更广泛的问题
4. 修复影响核心功能

## 🔄 与memory bank集成

```mermaid
graph TD
    Workflow["一级<br>工作流程"] --> TM["更新<br>tasks.md"]
    Workflow --> AC["最小更新<br>activeContext.md"]
    Workflow --> PM["简要更新<br>progress.md"]

    TM & AC & PM --> MB["memory bank<br>集成"]
    MB --> NextTask["过渡到<br>下一任务"]
```

## 🚨 效率原则

请记住：

```
┌─────────────────────────────────────────────────────┐
│ 一级工作流程优先考虑速度和效率。                     │
│ 在确保方案有足够文档记录的同时，最小化流程开销。     │
└─────────────────────────────────────────────────────┘
```
